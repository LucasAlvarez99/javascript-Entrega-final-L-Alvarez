<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>La Disquera ‚Äî Gestor Musical</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <h1>üé∏ La Disquera</h1>
    <div class="controls">
      <input id="search-input" type="search" placeholder="Buscar banda, √°lbum o canci√≥n..." />
      <select id="genre-filter">
        <option value="">Todos los g√©neros</option>
      </select>
      <button id="clear-search">Limpiar</button>
    </div>
  </header>

  <main class="layout">
    <!-- PANEL DE BANDAS -->
    <section id="bands-section" class="section panel bandas active">
      <h2>Bandas</h2>

      <div class="card" id="new-band-form">
        <h3>Agregar nueva banda</h3>
        <form id="band-form">
          <div class="form-grid">
            <div class="form-group">
              <label for="band-name">Nombre de la banda</label>
              <input id="band-name" type="text" required autocomplete="off" />
            </div>
            <div class="form-group">
              <label for="band-genre">G√©nero musical</label>
              <input id="band-genre" type="text" required autocomplete="off" />
            </div>
          </div>

          <div class="form-group">
            <label for="band-bio">Biograf√≠a</label>
            <textarea id="band-bio" rows="3"></textarea>
          </div>

          <div class="upload-zone">
            <label for="band-img">Imagen de la banda</label>
            <input id="band-img" type="file" accept="image/*" />
            <img id="preview-img" src="" alt="Vista previa" class="preview hidden" />
          </div>

          <div class="youtube-section">
            <h4>Agregar canciones desde YouTube</h4>
            <div class="youtube-input">
              <input type="text" id="youtube-url" placeholder="Pegar link de YouTube aqu√≠..." autocomplete="off" />
              <button type="button" class="btn" id="add-youtube">Agregar</button>
            </div>
            <div id="youtube-list"></div>
          </div>

          <button type="submit" class="btn">Agregar banda</button>
        </form>
      </div>

      <div id="bands-list" class="grid"></div>
    </section>

    <!-- PANEL DE √ÅLBUMES -->
    <section id="albums-section" class="section panel albumes">
      <h2>√Ålbumes</h2>
      <div id="albums-list" class="grid"></div>
    </section>

    <!-- PANEL DE CANCIONES -->
    <section id="songs-section" class="section panel canciones">
      <h2>Canciones</h2>
      <div id="songs-list"></div>
    </section>
  </main>

  <footer class="footer">
    <small>Proyecto final ‚Äî JavaScript CoderHouse ‚Äî Autor: Lucas Alvarez</small>
  </footer>

  <!-- Toast container -->
  <div id="toast-container"></div>

  <!-- ============================================
       SCRIPTS - ORDEN DE CARGA IMPORTANTE
       ============================================ -->
  
  <!-- 1. API de YouTube (debe cargarse primero) -->
  <script src="https://www.youtube.com/iframe_api"></script>
  
  <!-- 2. Script principal de app.js (gesti√≥n de bandas) -->
  <script src="app.js"></script>
  
  <!-- 3. M√≥dulos de √°lbumes (en orden de dependencias) -->
  <script src="script/modules/albums-core.js"></script>
  <script src="script/modules/youtube-utils.js"></script>
  <script src="script/modules/albums-form.js"></script>
  <script src="script/modules/albums-save.js"></script>
  <script src="script/modules/albums-render.js"></script>
  <script src="script/modules/player-audio.js"></script>
  <script src="script/modules/playlist-manager.js"></script>
  
  <!-- 4. Inicializaci√≥n principal (debe ser el √∫ltimo) -->
  <script src="script/modules/albums-main.js"></script>
  
  <!-- 5. Callback de YouTube API -->
  <script>
    console.log('üé¨ [index.html] Scripts cargados');
    
    // Funci√≥n requerida por la API de YouTube
    function onYouTubeIframeAPIReady() {
      console.log('‚úÖ [YouTube API] API lista');
      if (window.youtubeUtils && window.youtubeUtils.onAPIReady) {
        window.youtubeUtils.onAPIReady();
      }
    }
    
    // Log de inicializaci√≥n
    window.addEventListener('load', () => {
      console.log('‚úÖ [index.html] P√°gina completamente cargada');
      console.log('üìä [index.html] M√≥dulos disponibles:', {
        albumsCore: !!window.albumsCore,
        albumsForm: !!window.albumsForm,
        albumsSave: !!window.albumsSave,
        albumsRender: !!window.albumsRender,
        youtubeUtils: !!window.youtubeUtils,
        playerAudio: !!window.playerAudio,
        playlistManager: !!window.playlistManager,
        albumsApp: !!window.albumsApp
      });
    });
  </script>
</body>
</html>